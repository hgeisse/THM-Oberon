This simulator is essentially a RISC5 simulator augmented with a few
ECO32 I/O devices. If you want to use any ECO32 device, you have to
enable it on the command line (switch '-e'). The command line switch
'-r' removes RISC5 devices (to check, e.g., whether there is left any
I/O access to a device, or to prevent getting interrupts from two
similar devices).


Here is a brief decsription of the ECO32 I/O devices:


Timer
-----

The timer is realized with a counter ('timer counter register'), which
can be read. It counts downward (counting frequency 50 MHz), starting
with a preset value ('timer divisor register') down to zero. As soon as
zero is reached, a flag in the control register ('expired') is set, and
possibly an interrupt is generated. Also, the counter is re-initialized
to the value of the timer divisor register. The 'expired' flag is reset
upon reading the control register.

0xC00000	timer control register (r/w)
		bit 0: timer expired (cannot be written)
		bit 1: timer interrupt enabled
		reading the control register resets the 'expired' flag

0xC00004	timer divisor register (r/w)
		writing to this register also writes to the counter register

0xC00008	timer counter register (r)
		this register cannot be written


Board I/O
---------

The board I/O realizes the most primitive user interactions: pressing
a button, flipping a switch, and lighting a LED.

0xC10000	buttons, switches, and LEDs (r/w)
		reading returns buttons[3:0] and switches[7:0] in the 12 LSBs
		writing maps the 8 LSBs to the LEDs (1 = on)


RS232
-----

This device provides bi-directional serial communication. The communication
parameters are 8N1 (8 data bits, no parity, 1 stop bit), and the line speed
is fixed at 9600 baud.

0xC20000	receiver control register (r/w)
		bit 0: receiver has a character (cannot be written)
		bit 1: enable receiver interrupt (not yet in HYBRID)

0xC20004	receiver data register (r)
		reading this register clears the 'rcvr has a char' flag
		this register cannot be written

0xC20008	transmitter control register (r/w)
		bit 0: transmitter accepts a character (cannot be written)
		bit 1: enable transmitter interrupt (not yet in HYBRID)

0xC2000C	transmitter data register (w)
		writing this register clears the 'xmtr accepts a char' flag
		this register cannot be read


SD Card
-------
t.b.w.


Keyboard
--------
t.b.w.


Mouse
-----
t.b.w.


Graphics
--------

The graphics display is a framebuffer device. The base address of
the buffer is 0x800000. The display occupies 0x18000 bytes, which
is 0x6000 (24576) words. This equals a total of 786432 bits, each
bit representing a single pixel of the 1024x768 pixel display.
Bit value 0 means 'background color'; bit value 1 is 'foreground
color'. Bit 31 (MSB) of a word is the leftmost pixel of this word
on the screen, bit 0 (LSB) of a word is the rightmost pixel.
